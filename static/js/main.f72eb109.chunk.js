(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a(143)},115:function(e,t,a){},133:function(e,t,a){},135:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){},141:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(77),l=a.n(s),i=a(13),c=a(6),o=a(79),u=(a(115),a(10)),m=a(11),d=a(14),p=a(12),h=a(15),b=a(67),f=a(80),k=a(5),v=a.n(k),y="fetch-tasks",E="search-tasks",O="fetch-task",g="create-task",j=[{name:"To Be Done",color:"#ff9900",value:"0"},{name:"Doing",color:"#4fa1e6",value:"1"},{name:"Done",color:"#48b04b",value:"2"}],T=Object(f.initializeApp)({databaseURL:"https://todo-8e9bc.firebaseio.com/",projectId:"todo-8e9bc"});function N(){return function(e){T.database().ref().on("value",function(t){var a=[];t.forEach(function(e){a.push(Object(b.a)({},e.val(),{key:e.key}))}),e({type:y,payload:v.a.sortBy(a,["dueDate"])})})}}function w(e){return{type:O,payload:e}}function x(e){return function(t){var a=T.database().ref().push(e).getKey();t({type:g,payload:a})}}function D(e,t){return function(a){return T.database().ref("/".concat(e)).update(t)}}function C(e){return function(t){return T.database().ref("/".concat(e)).remove()}}function S(e){return function(t,a){var n=a(),r=[];r=""!==e?v.a.filter(n.tasks,function(t){return-1!==t.title.indexOf(e)?t:t.description&&-1!==t.description.indexOf(e)?t:t.member&&-1!==t.member.indexOf(e)?t:j[v.a.toInteger(t.state)]&&-1!==j[v.a.toInteger(t.state)].name.indexOf(e)?t:-1!==v.a.join(t.tags," ").indexOf(e)?t:void 0}):n.tasks,t({type:E,payload:r})}}a(76);var F=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onClickNewForm",value:function(){console.log("new task"),this.props.fetchTask(null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary pull-xs-right",type:"button",onClick:this.onClickNewForm.bind(this),"data-toggle":"modal","data-target":"#formModal"},r.a.createElement("strong",null,"NEW TASK")))}}]),t}(n.Component);var M=Object(i.b)(null,function(e){return Object(c.b)({editTask:D,createTask:x,fetchTask:w},e)})(F),L=a(64),U=a(63),K=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onSearchSubmit",value:function(e){this.props.fetchTasks(),v.a.isUndefined(e.q)||this.props.searchTasks(e.q)}},{key:"renderSearchField",value:function(e){return r.a.createElement("input",Object.assign({className:"form-control w-75  mr-sm-2",type:"search",placeholder:"Title, Description, Tags..."},e.input))}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline mx-3",onSubmit:e(this.onSearchSubmit.bind(this))},r.a.createElement(L.a,{name:"q",component:this.renderSearchField}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")))}}]),t}(n.Component);var R=Object(U.a)({form:"SeachForm",keepDirtyOnReinitialize:!0,enableReinitialize:!0})(K),V=Object(i.b)(null,function(e){return Object(c.b)({searchTasks:S,fetchTasks:N},e)})(R),A=(a(133),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"text-white",style:{cursor:"pointer"},onClick:this.props.fetchTasks.bind(this)},"Todo List"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav w-100"},r.a.createElement("li",{className:"nav-item mx-5 w-75"},r.a.createElement(V,null)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M,null))))))}}]),t}(n.Component)),I=Object(i.b)(null,{fetchTasks:N})(A),z=(a(135),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"\xa9 Todo List 2018")))}}]),t}(n.Component)),B=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onShowClick",value:function(){this.props.fetchTask(this.props.id)}},{key:"renderAttribute",value:function(e,t){return v.a.isEmpty(t)?"":r.a.createElement("p",{className:"mb-0"},e,": ",r.a.createElement("strong",null,v.a.truncate(t,{length:25})))}},{key:"renderDate",value:function(e){return v.a.isEmpty(e)?"":r.a.createElement("h6",{className:"card-subtitle text-muted my-1"},"Due by ",e)}},{key:"renderTag",value:function(e,t){return v.a.isEmpty(t)?"":r.a.createElement("p",{className:"mb-0"},e,": ",r.a.createElement("strong",null,v.a.truncate(v.a.join(t,", "),{length:25})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"card mx-4 my-4",style:{opacity:.92,cursor:"pointer"},onClick:this.onShowClick.bind(this),"data-toggle":"modal","data-target":"#formModal"},r.a.createElement("div",{className:"card-body p-3"},r.a.createElement("div",{className:"p-0"},r.a.createElement("h5",{className:"card-title"},v.a.truncate(this.props.title,{length:30})),this.renderDate(this.props.dueDate),r.a.createElement("div",{className:"card-text text-muted"},this.renderAttribute("Member",this.props.member),this.renderTag("Tags",this.props.tags)))))}}]),t}(n.Component);var q=Object(i.b)(null,function(e){return Object(c.b)({fetchTasks:N,editTask:D,createTask:x,fetchTask:w,deleteTask:C},e)})(B),W=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderTaskList",value:function(){return r.a.createElement("div",{className:"p-3",style:{backgroundColor:"".concat(this.props.color)}},v.a.map(this.props.tasks,function(e){return r.a.createElement(q,Object.assign({},e,{id:e.key,key:e.key}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"text-center m-0 py-2 bg-white",style:{color:"".concat(this.props.color)}},r.a.createElement("strong",null,this.props.title)),this.renderTaskList())}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={tasks:a.props.tasks},a.props.fetchTasks(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(t){return{tasks:e.props.tasks}})}},{key:"renderTasks",value:function(){var e=this;return v.a.isEmpty(this.props.tasks)?r.a.createElement("div",{className:"text-center mt-5 text-white"},this.props.message):r.a.createElement("div",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},v.a.map(j,function(t){return r.a.createElement("div",{className:"col px-0",key:t.value},r.a.createElement(W,{tasks:v.a.filter(e.props.tasks,function(e){return e.state===t.value}),title:t.name.toUpperCase(),value:t.value,color:t.color}))})))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderTasks())}}]),t}(n.Component);var J=Object(i.b)(function(e){return{tasks:e.tasks,message:e.message}},function(e){return Object(c.b)({fetchTasks:N,editTask:D,createTask:x,deleteTask:C},e)})($),P=a(54),G=(a(137),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).props.fetchTask(a.props.task.key),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e={title:this.props.task.title,description:this.props.task.description,dueDate:this.props.task.dueDate,state:this.props.task.state,member:this.props.task.member,tags:v.a.join(this.props.task.tags,", ")};this.props.dispatch(Object(P.a)("TaskForm",e))}},{key:"componentDidUpdate",value:function(e,t){this.props.task.key&&this.props.fetchTask(this.props.task.key)}},{key:"onDeleteClick",value:function(){!this.props.new&&window.confirm("Are you sure want to delete this task?")&&(window.$("#formModal").modal("hide"),this.props.deleteTask(this.props.task.key))}},{key:"onFormSubmit",value:function(e){var t=v.a.keys(e),a=v.a.filter(t,function(t){if(v.a.isUndefined(e[t]))return t}),n=v.a.omit(e,a);v.a.isEmpty(n.tags)||(n.tags=v.a.words(n.tags)),this.props.new?(this.props.createTask(n),window.$("#formModal").modal("hide")):(this.props.editTask(this.props.task.key,n),window.$("#formModal").modal("hide"))}},{key:"fieldEntry",value:function(e){return this.props.new?"":"".concat(v.a.isUndefined(e)?"":e)}},{key:"renderField",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",null,e.label),r.a.createElement("input",Object.assign({className:"form-control"},e.input,{type:e.type,placeholder:e.placeholder})))}},{key:"renderTitle",value:function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,e.label),r.a.createElement("h2",null,r.a.createElement("input",Object.assign({className:"form-control form-control-lg ".concat(e.meta.touched&&e.meta.error?"is-invalid":"")},e.input,{type:e.type,placeholder:"Title of the new task"}))),r.a.createElement("div",{className:"error text-danger text-sm"},e.meta.touched&&e.meta.error?e.meta.error:""))}},{key:"renderDescription",value:function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,e.label),r.a.createElement("textarea",Object.assign({rows:"3",className:"form-control"},e.input,{type:e.type,placeholder:"Detailed description of the task"})))}},{key:"renderState",value:function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,e.label),r.a.createElement("select",Object.assign({className:"form-control ".concat(e.meta.touched&&e.meta.error?"is-invalid":"")},e.input),r.a.createElement("option",{disable:"true"},"Select a State"),r.a.createElement("option",{value:"0"},"TO BE DONE"),r.a.createElement("option",{value:"1"},"DOING"),r.a.createElement("option",{value:"2"},"DONE")),r.a.createElement("div",{className:"error text-danger text-sm"},e.meta.touched&&e.meta.error?e.meta.error:""))}},{key:"renderTags",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",null,e.label),r.a.createElement("input",Object.assign({className:"form-control"},e.input,{type:e.type,placeholder:"Tags (seperated by Space or Comma)"})))}},{key:"renderLeftFields",value:function(){var e=this.props.task;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{name:"title",label:"Title",type:"text",fieldValue:this.fieldEntry(e.title),component:this.renderTitle}),r.a.createElement(L.a,{name:"member",label:"Member",type:"text",placeholder:"Name of the member...",fieldValue:this.fieldEntry(e.member),component:this.renderField}),r.a.createElement(L.a,{name:"description",label:"Description",type:"textarea",fieldValue:this.fieldEntry(e.description),component:this.renderDescription}))}},{key:"renderRightFields",value:function(){var e=this.props.task;return r.a.createElement("div",null,r.a.createElement(L.a,{name:"state",label:"State",type:"number",fieldValue:this.fieldEntry(e.state),component:this.renderState}),r.a.createElement(L.a,{name:"dueDate",label:"Due Date",type:"date",fieldValue:this.fieldEntry(e.dueDate),component:this.renderField}),r.a.createElement(L.a,{name:"tags",label:"Tags",type:"text",fieldValue:this.fieldEntry(e.dueDate),component:this.renderTags}))}},{key:"render",value:function(){var e=this.props.handleSubmit,t=this.props.task;return r.a.createElement("div",{className:"modal fade",id:"formModal",tabIndex:"-1",role:"dialog","aria-labelledby":"formModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog form-modal w-75 pt-5",role:"document",style:{maxWidth:"100%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},this.props.new?"New Task":t.title),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:e(this.onFormSubmit.bind(this))},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},this.renderLeftFields()),r.a.createElement("div",{className:"col-md-4"},this.renderRightFields())),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("ul",{className:"list-inline row w-100"},r.a.createElement("li",{className:"list-inline-item  col-md-2 mr-auto "},r.a.createElement("button",{className:"btn btn-danger text-center mr-5 w-100 ".concat(this.props.new?"disabled":""),type:"button",onClick:this.onDeleteClick.bind(this)},"Delete")),r.a.createElement("li",{className:"list-inline-item col"},r.a.createElement("button",{className:"btn btn-primary text-center w-100",type:"submit"},"Save")))))))))}}]),t}(n.Component));var H=Object(U.a)({form:"TaskForm",validate:function(e){var t={};return e.title||(t.title="Please, enter a title!!"),e.state||(t.state="Please, select a state!!"),t},keepDirtyOnReinitialize:!0,enableReinitialize:!0})(G),Q=Object(i.b)(function(e,t){return{initialValues:v.a.find(e.tasks,function(t){return t.key===e.activeTaskKey}),activeTaskKey:e.activeTaskKey}},function(e){return Object(c.b)({editTask:D,createTask:x,fetchTask:w,deleteTask:C},e)})(H),X=(a(139),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=v.a.isUndefined(this.props.activeTask);return r.a.createElement("div",null,r.a.createElement(Q,{task:Object(b.a)({},this.props.activeTask),new:e}))}}]),t}(n.Component));var Y=Object(i.b)(function(e){return{activeTask:v.a.find(e.tasks,function(t){return t.key===e.activeTaskKey})}},function(e){return Object(c.b)({editTask:D,createTask:x,fetchTask:w},e)})(X),Z=(a(141),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("div",null,r.a.createElement(Y,null)),r.a.createElement(J,null),r.a.createElement(z,null))}}]),t}(n.Component)),_=a(65),ee=Object(c.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case E:return t.payload;default:return e}},activeTaskKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return v.a.isUndefined(t.payload)?"0":t.payload;case g:return t.payload;default:return e}},form:_.a,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return"Loading tasks...";case E:return v.a.isEmpty(t.payload)?"No tasks found!! Try a different query..":"Searching...";default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=Object(c.a)(o.a)(c.d);l.a.render(r.a.createElement(i.a,{store:te(ee)},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){}},[[108,2,1]]]);
//# sourceMappingURL=main.f72eb109.chunk.js.map